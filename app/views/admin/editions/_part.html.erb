<div class="panel panel-default part">
  <div class="panel-heading js-sort-handle">
    <h4 class="panel-title" >
      <a data-toggle="collapse" data-parent="#parts" href="#<%= f.object.slug || 'untitled-part' %>">
        <i class="glyphicon glyphicon-chevron-down glyphicon-smaller-than-text add-right-margin pull-left"></i>
        <%= f.object.title.present? ? f.object.title : 'Untitled part' %>
      </a>
    </h4>
  </div>
  <div id="<%= f.object.slug || 'untitled-part' %>" class="panel-collapse <% if f.object.valid? %>collapse <% end %>in">
    <div class="panel-body">

        <%= f.inputs do %>
          <%= f.input :title,
                      :input_html => { :class => 'title input-md-8', :disabled => ! editable },
                      :hint => true,
                      :required => true %>

          <%= f.input :body,
                      :as => :text,
                      :required => true,
                      :input_html => { :class => 'input-md-8', :rows => '25', :disabled => ! editable } %>

          <%= f.input :slug,
                      :input_html => { :class => 'slug input-md-8', :disabled => ! editable },
                      :hint => false,
                      :required => true %>

          <p class="help-block">
            <i class="glyphicon glyphicon-info-sign"></i> eg title-of-part (no spaces, apostrophes, etc).
          </p>

          <%= f.input :order, :as => :hidden, :input_html => { :class => 'order', :disabled => !editable } %>

        <% if editable %>
          <hr>
          <%= f.remove_link "Remove this part" %>
        <% end %>
      <% end %>

    </div>
  </div>
</div>
